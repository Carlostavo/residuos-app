import { useState } from 'react'; import { useAuth } from '../context/AuthContext'; export default function LoginModal({open,onClose}){ const { signIn, signUp } = useAuth(); const [mode,setMode]=useState('login'); const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); if(!open) return null; async function submit(e){ e.preventDefault(); try{ if(mode==='login') await signIn({email,password}); else await signUp({email,password}); alert('OK'); onClose(); }catch(err){ alert('Error: '+err.message);} } return (<div style={{position:'fixed',inset:0,display:'flex',alignItems:'center',justifyContent:'center',background:'rgba(0,0,0,0.4)'}}><div style={{background:'#fff',padding:20,borderRadius:8}}><h3>{mode==='login'?'Iniciar sesión':'Registrarse'}</h3><form onSubmit={submit}><input placeholder='Correo' value={email} onChange={e=>setEmail(e.target.value)} /><input placeholder='Contraseña' type='password' value={password} onChange={e=>setPassword(e.target.value)} /><div><button type='submit' className='btn'>{mode==='login'?'Entrar':'Crear cuenta'}</button><button type='button' onClick={()=>setMode(m=>m==='login'?'register':'login')} className='btn'>Cambiar</button></div></form><button onClick={onClose} className='btn'>Cerrar</button></div></div>); }