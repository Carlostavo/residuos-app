/* app/globals.css - Mejorado */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
  }
}

@layer components {
  .canvas-container {
    @apply w-full min-h-screen bg-gradient-to-br from-gray-50 to-gray-100;
  }

  .content-canvas {
    @apply w-full max-w-7xl mx-auto p-4 md:p-6;
  }

  .responsive-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6;
  }

  .hero-section {
    @apply bg-gradient-to-r from-green-50 to-emerald-100 rounded-2xl shadow-lg p-6 md:p-8 mb-6 md:mb-8;
  }

  .card-hover {
    @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
  }

  /* Enhanced editing mode styles */
  .editable-element {
    @apply relative transition-all duration-200;
  }

  .editable-element:hover {
    @apply ring-2 ring-blue-300 ring-opacity-50;
  }

  .editable-selected {
    @apply ring-2 ring-blue-500;
  }

  .editable-dragging {
    @apply shadow-2xl ring-4 ring-blue-400 ring-opacity-75 z-50;
  }

  /* Edit mode container styles */
  .edit-mode-container {
    @apply relative min-h-screen;
  }

  .edit-mode-container .editable-element {
    @apply cursor-move;
  }

  .edit-mode-container .editable-element:hover {
    @apply ring-2 ring-blue-400 ring-opacity-60;
  }

  /* Dynamic element styles */
  .dynamic-element {
    @apply transition-all duration-200;
  }

  .dynamic-element.selected {
    @apply ring-2 ring-blue-500 ring-opacity-75;
  }

  /* Panel positioning styles */
  .edit-panel-open {
    margin-left: 320px;
  }

  /* Responsive adjustments for edit mode */
  @media (max-width: 768px) {
    .edit-mode-container {
      margin-left: 0 !important;
    }

    .edit-panel-mobile {
      position: fixed;
      top: 64px;
      left: 0;
      width: 100%;
      height: calc(100vh - 64px);
      z-index: 50;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }

    .edit-panel-mobile.open {
      transform: translateX(0);
    }
  }

  /* Enhanced visual feedback for dragging */
  .dragging-overlay {
    @apply fixed inset-0 bg-blue-50 bg-opacity-30 pointer-events-none z-40;
  }

  /* Selection indicators */
  .element-selector {
    @apply absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-1 rounded pointer-events-none;
  }

  /* Insertion guides */
  .insertion-guide {
    @apply border-2 border-dashed border-blue-400 bg-blue-50 bg-opacity-20 rounded-lg;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Utility classes for edit mode */
  .edit-mode-spacing {
    @apply p-2 m-1;
  }

  .edit-mode-highlight {
    @apply ring-2 ring-blue-400 ring-opacity-50;
  }

  .edit-mode-selected {
    @apply ring-2 ring-blue-600 ring-opacity-75;
  }
}

/* Mejoras de accesibilidad */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Estilos para focus visible mejorado */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible {
  @apply outline-2 outline-offset-2 outline-green-500;
}

/* Print styles to hide edit elements */
@media print {
  .editable-element,
  .edit-panel,
  .element-selector {
    @apply ring-0 outline-0;
  }

  .edit-mode-container {
    margin-left: 0 !important;
  }
}
